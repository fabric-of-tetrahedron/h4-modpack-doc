Xaero的世界地图 Mod 为你的 Minecraft 客户端添加了一个自动缓存（self-writing）全屏地图。可作为单独的模组使用，但与 [Xaero的小地图](https://www.mcmod.cn/class/1701.html "[XMM] Xaero's Minimap") 搭配使用效果更佳。之所以单独提供，是为了让 [Xaero的小地图](https://www.mcmod.cn/class/1701.html "[XMM] Xaero's Minimap") 尽可能保持轻量级。**此模组为主客户端。在服务端安装可获得一些额外功能（如世界识别）。**  

该模组仍在开发中！请报告你遇到的任何漏洞，否则它们很可能无法得到修复。你可以私信作者报告漏洞。

**确保你的世界已针对你正在玩的 Minecraft 版本进行了优化（_单人游戏 - 编辑 - 优化世界_）（在每次 Minecraft 更新后重复此操作）。从未优化的世界存档中生成单人游戏地图需要花费_很多_时间。**  

如果你在安装任何模组时遇到困难，那么一些指南可能会对你有所帮助。

#### 特性

- 自动缓存的世界地图（与手动纸质地图不同）。你可以在同一服务器地址上创建多个地图，并在它们之间手动或自动切换；
- 可在单人游戏、多人游戏和 Realms 中使用；  
- 直观的界面。**按 M （默认）键**打开地图界面，用鼠标移动地图，用**鼠标滚轮**放大/缩小地图，与谷歌地图类似。地图界面上的提示框列出了所有相关控制，许多控制都可自定义；  
- 可选择自动检测服务器上的多个世界；  
- 显示 [Open Parties and Claims](https://www.mcmod.cn/class/7945.html "OPAC") 模组中的区块认领和盟友玩家。可让你直接从地图上认领或强制加载区块；
- 资源包支持。更改资源包会导致整个世界地图重新生成；  
- 洞穴维度支持（例如下界）；  
- 可选原版地图模式，使世界地图看起来像原版纸质地图；
- 自定义地形阴影；
- “足迹”可以显示你最近走过的路径；  
- 必要时可帮助提高模组性能的设置。不过通常，默认情况下模组的性能应该很好；  
- [Xaero的小地图](https://www.mcmod.cn/class/1701.html "[XMM] Xaero's Minimap") 联动。小地图模组将显示世界地图提供的区块。世界地图模组将显示来自 Xaero的小地图 模组的路径点。还可与 [更好的PVP (Better PVP)](https://www.mcmod.cn/class/925.html "更好的PVP (Better PVP)") 模组配合使用。你可以在不离开地图界面的情况下创建、编辑和**传送到路径点；**
- 用于控制服务器/地图上玩家使用世界地图的药水效果。在撰写本文时，存在以下药水效果：_xaeroworldmap:no_world_map_。这些效果默认为中立类型，但你也可以在效果 ID 的末尾添加 __harmful_ 来指定有害类型，例如 _xaeroworldmap:no_world_map_harmful；_
- **自 1.14.0 版本起**，你可以通过点击地图屏幕右下角的图标打开地图上的路径点菜单。在路径点菜单中，你可以从渲染集合中看到所有地图路径点的列表，用鼠标光标与它们交互，并在文本字段中根据名称对它们进行过滤。你还可以在菜单中切换已禁用路径点的可见性、切换渲染所有路径点集合以及更改当前路径点集合。在菜单中悬停路径点也如同在地图上悬停路径点一样：路径点会在地图上突出显示，你可以使用右键单击或悬停控制与路径点进行交互；
- 将地图导出为 PNG 图像文件的选项。该模组会尝试导出整个地图，因此如果地图长达数百万个方块，则可能无法导出。作者计划将来提供更多导出地图的选项；
- 通过将其绑定到快捷栏中所需或要装备的物品上，从而限制你的地图访问权限的选项。例如，在配置文件的任意位置添加 _mapItemId:minecraft:compass_ 即可将其绑定到指南针物品上。这样，除非你的快捷栏中有指南针或装备了指南针，否则地图将无法运行。  

#### 画廊

| ![[XWM]Xaero的世界地图 (Xaero's World Map)-第2张图片](https://i.mcmod.cn/editor/upload/20231119/1700399510_349832_pdvk.webp)主世界 | ![[XWM]Xaero的世界地图 (Xaero's World Map)-第3张图片](https://i.mcmod.cn/editor/upload/20231119/1700399510_349832_gQop.webp)主世界 | ![[XWM]Xaero的世界地图 (Xaero's World Map)-第4张图片](https://i.mcmod.cn/editor/upload/20231119/1700399510_349832_PHiH.webp)夜晚 | ![[XWM]Xaero的世界地图 (Xaero's World Map)-第5张图片](https://i.mcmod.cn/editor/upload/20231119/1700399511_349832_lFhU.webp)下界 |
| ---------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------- |

#### 常见问题

##### 如何在多人游戏中将 1.30 更新前的下界地图恢复为以“完整”洞穴模式类型显示？

首先，退出服务器并找到你用来在服务器上玩的 Minecraft 游戏目录。在游戏目录中，进入 _XaeroWorldMap/Multiplayer_[server_address]/DIM-1/[map_folder]_ 。如果该文件夹还不存在，则创建一个名为“**caves**”的文件夹，去掉引号，然后进入该文件夹。在 caves 文件夹中，创建一个名为“**-2147483648**”的文件夹，如果还不存在，请去掉引号。返回包含“**caves**”文件夹的文件夹，将所有“**.zip**”文件移至 _**caves/-2147483648**_ 文件夹。请随意删除缓存文件夹或将其与“**.zip**”文件一起移动。  

##### 如何设置洞穴模式，使其与 1.30 版本以下，引入洞穴模式前的行为相同？

只有在使用正常版本的小地图或完全不使用小地图时，才能完全实现这一点。公平竞争版本的小地图现在禁用了下界中的世界地图洞穴模式，而且无法切换，因此不会与以前完全一样。

##### 如果你有 1.30 之前的下界地图数据，请按照本页“_如何在多人游戏中将 1.30 更新前的下界地图恢复为以‘完整’洞穴模式类型显示？_”。

完成后，加入一个世界/服务器并打开世界地图设置。找到“默认洞穴模式类型（Default Cave Mode Type）”并将其设置为“关”，然后将“可辨认洞穴地图（Legible Cave Maps）”设置为“开”。接下来，打开世界地图界面，点击屏幕左下方的洞穴图标。在打开的菜单中，将“洞穴模式顶部 Y（Cave Mode Top Y）”设置为任意数字。如果你在主世界，则将 “洞穴模式类型（Cave Mode Type）”设置为“关”。之后在下界时，将“洞穴模式类型”设置为“完整”。洞穴模式类型存储在每个维度中，因此你可以在任何类似网状的维度中将其设置为“完整”，而在其他维度中将其设置为“关”。你还可以在基岩屋顶（bedrock roof）下方和上方之间切换显示。  

##### 为什么右键传送对我不起作用？

此模组会发送聊天命令将你传送到特定坐标，默认情况下是 _/tp @s x y z_，因此需要适当的权限。原版 /tp 命令需要 OP 状态（已启用作弊），但在安装了某些插件的非原版服务器上，也可以为命令设置单独的权限。使用的命令可以在世界地图设置中通过“地图传送命令（Map Teleport Command）”进行更改。非原版传送命令通常不支持 @s 等选择器，因此可能需要将其从配置的命令中移除。还有一个名为“玩家传送命令（Player Teleport Command）”的选项，在右键单击被追踪的玩家（例如你在 [Open Parties and Claims](https://www.mcmod.cn/class/7945.html "OPAC") 中的帮派）时使用。传送到路径点使用的是小地图模组中自己的设置。你可以在“常见问题”下的“小地图说明”页面中了解相关信息。

##### 如何在不手动行走的情况下查看地图？

在单人游戏中，地图直接从世界保存中加载。这意味着你可以使用你喜欢的任何工具预生成世界，重新登录并使用世界地图设置中的“重新加载区域（Reload Regions）”选项来修复地图缓存中的任何冲突。在多人游戏中，没有官方方法可以做到这一点。从单人游戏地图复制缓存将不起作用。

##### 为什么同一服务器地址/IP 上的多个世界使用并缓存同一个地图？

此模组可让你在同一服务器地址上拥有多个地图。你可以在地图之间自由切换，也可以随时创建新地图。你可以根据服务器类型选择正确的“地图选择（Map Selection）”模式，防止地图被覆盖。点击世界地图界面左下角的图标（如果默认情况下菜单未打开），即可在一个特殊菜单中选择地图。在菜单中，你可以在_手动（Manual）_、_世界重生点（World Spawn）_和_单一（Single）_模式之间切换，并通过顶部中央的下拉菜单选择/创建地图。如果将鼠标悬停在_地图选择（Map Selection）_选项上，就可以阅读关于每种地图选择模式，包括_服务器（Server）_模式的所有信息。_世界重生点（World Spawn）_模式相当于 1.6 之前的世界地图。因此你不必降级该模组就能继续使用。_服务器（Server）_模式是大多数情况下的最佳选择，因为服务器会根据服务端的级别 ID 自动控制你的地图选择。它要求在服务端安装该模组。如果更改地图选择模式后，你的地图变成了空地图，你可以通过从下拉菜单中选择你想要使用的地图并确认，重新绑定该地图。

##### 为什么世界地图需要确认？

一个服务器地址可以有多个主世界、下界等。这可能是多个子服务器造成的，也可能只是多个世界存档，例如一个“大厅”世界和一个“游戏”世界。不同的世界在客户端没有任何唯一的 ID，因此无法可靠地区分它们。正因为如此，世界地图模组可以让你在同一个服务器地址上为每个维度设置多个世界地图。在旧版本中，默认情况下地图选择是_手动（Manual）_的，这意味着每次切换维度/世界/子服务器时，都会要求你确认使用哪个地图。你也可以从 2 种自动模式中选择一种。点击世界地图界面左下角的图标（如果默认情况下菜单未打开），即可在一个特殊菜单中选择地图。在菜单中，你可以在_手动（Manual）_、_世界重生点（World Spawn）_和_单一（Single）_模式之间切换，并通过顶部中央的下拉菜单选择/创建地图。如果将鼠标悬停在_地图选择（Map Selection）_选项上，就可以阅读关于每种地图选择模式，包括_服务器（Server）_模式的所有信息。_世界重生点（World Spawn）_模式相当于 1.6 之前的世界地图。因此你不必降级该模组就能继续使用。_服务器（Server）_模式是大多数情况下的最佳选择，因为服务器会根据服务端的级别 ID 自动控制你的地图选择。它要求在服务端安装该模组。如果更改地图选择模式后，你的地图变成了空地图，你可以通过从下拉菜单中选择你想要使用的地图并确认，重新绑定该地图。

##### 安装世界地图后，为什么无法在服务器上看到我的小地图路径点？

你当前确认的地图会影响小地图模组中哪些路径点子世界被视为自动。这使得每个创建的地图都有单独的路径点数据。在任何时候，你都可以进入路径点菜单（按 U 键），从右上角的下拉菜单中选择并查看任何非自动路径点子世界。你可以选择_选项 -> 使子世界为自动_，使当前确认的地图中的任何子世界自动。

##### 为什么我的世界地图“重置”了特定服务器？

不要惊慌。它几乎肯定不会被删除（据作者所知，这种情况从未发生过）。旧版世界地图使用基于世界出生点的系统将服务器分成多个地图。这个系统经常会因为服务器向游戏客户端发送虚假的世界出生坐标，从而为原版指南针物品添加自定义功能而崩溃。**请确保将模组更新到最新版本。**现在有多种地图选择模式可供选择，默认模式为_手动（Manual）_。现在你可以查看当前服务器地址上的任何世界地图。点击世界地图左下角的图标，打开地图选择菜单（如果默认情况下没有打开）。**中间顶部的下拉菜单允许你选择现有的或创建新的世界地图。**你可以将鼠标悬停在地图选择模式设置（左下角）上，阅读每种模式的工作原理。_服务器（Server）_模式是大多数情况下的最佳选择，因为服务器会根据服务器端的级别 ID 控制你的地图选择。它要求在服务端安装模组。_手动（Manual）_模式是最安全的选择，在其他所有服务器上都可以使用。如果无法选择服务器模式，还有另外两种自动地图选择模式。请在设置的提示框中阅读更多相关信息。  

##### _**旧地图不在地图菜单中？**_ 这可能意味着两种情况：服务器地址已更改或维度 ID 已更改。

让我们从**更改维度 ID** 开始。服务器上的每个维度在_游戏目录 -> XaeroWorldMap_ 目录下都有一个单独的目录。**在对 _XaeroWorldMap_ 目录进行任何操作之前，请先备份该目录。**在旧版本中，维度目录名称包含服务器地址和维度密钥，例如 _XaeroWorldMap/Multiplayer_127.0.0.1_DIM1_。在新版本中，维度目录是一个子目录，因此类似于 _XaeroWorldMap/Multiplayer_127.0.0.1/DIM1_。出于兼容性考虑，默认的_主世界、下界和末地_维度分别命名为 _null、DIM-1 和 DIM1_。其他维度的名称应基于原始维度 ID，例如 _Multiplayer_127.0.0.1/minecraft$overworld_creative_。在 1.16+ 版本中，你可以在_游戏中的 F3 屏幕_上查看当前的维度 ID，以确定哪个目录对应哪个维度（例如 “minecraft:overworld”）。_编辑文件/目录前，请退出游戏标题界面或关闭游戏。_  

每个维度目录都包含子目录，维度中的每个地图都有一个子目录（例如 `_mw$default` 或 `mw-4,0,-4`），还有一个名为 _dimension_config.txt_ 的文件，其中包含地图的实际显示名称。你可以使用该文件帮助找到想要的特定地图目录。在维度目录之间移动/复制地图目录时，应在维度之间移动/复制该目录。你可以稍后在游戏中为其命名。**_最常见的情况是_**将地图从 _**`/null`**_ 移动到 _**`/minecraft$overworld_survival`**_。当 1.16+ 版本的服务器开始为每个子世界使用唯一的维度 ID 时，就需要使用此功能。  

**要更改服务器地址**，首先必须删除_游戏目录 -> XaeroWorldMap_ 中包含新服务器地址的所有目录。如果你使用的是最新的模组版本，通常只有一个这样的目录。**在此之前，请备份整个 _XaeroWorldMap_ 目录。另外，至少要退出游戏到标题界面。**然后，你必须将（XaeroWorldMap 中的）旧服务器地址目录重命名为新地址，_仅_替换地址部分。  

如有问题，请给作者留言或评论！  

_如果你无法将模组更新到 1.6.1 或更新版本，这里有旧版本的解释：_  

不要惊慌。它几乎肯定不会被删除（据作者所知，这种情况从未发生过）。这很可能是服务器插件改变了原版指南针物品的行为，干扰了模组的“多世界”检测。在大多数情况下，指南针会指向你的床，而不是全局出生点。如果是睡在另一张床上导致地图“重置”，那么再次睡在正确的床上就会恢复正常。  

如果地图“重置”是因为添加了新插件（如果你无法选择删除该插件），那么下面是你恢复地图的方法（希望该插件不会再次这样做）：  

确保 Minecraft _**未运行**_。  

1. 进入游戏目录。  
2. 进入 _XaeroWorldMap_ 目录。  
3. 查找代表你在服务器上访问过的维度的目录。这些目录的名称中包含服务器地址。以 _null 结尾的是主世界，_dim-1 是下界等。  
4. 打开主世界目录（__null_）。  
5. 你会看到多个以 _mw_ 开头的目录。
6. 找到文件大小最大的那个。将文件名复制到某个地方，以免丢失。
7. 现在找到最新的 _mw_ 目录（可能是最空的，或者直接查看创建日期）。将此目录移到其他地方。**先不要删除它。**
8. 将步骤 6 中的目录重命名为步骤 7 中的备份目录名称。
9. 打开 Minecraft，测试主世界世界地图是否已恢复。
10. 如果不是，请退出 Minecraft 并恢复已重命名目录的旧名称 + 恢复已备份的文件夹。重新阅读所有步骤，确保你所做的一切都是正确的。
    - 如果主世界已修复，请继续执行步骤 11。
11. 重命名并备份要恢复的其他维度的与主世界同名的目录。  

_如有问题，请联系作者！_  

恢复地图后，为什么我的路径点没有恢复？

请阅读[小地图说明](https://www.mcmod.cn/class/1701.html "[XMM] Xaero的小地图 (Xaero's Minimap)")页面上的_“为什么我的路径点不再显示特定服务器？”_它应该涵盖大多数情况。如果没有帮助，请联系作者。

---

_**你可以使用此模组制作视频。**_

_**作者允许在你的整合包中使用它，但必须满足以下条件：**_  

- _**只允许通过 CurseForge 或 Modrinth 对整合包进行盈利化（包括在你的整合包描述中加入赞助商链接/横幅），除非作者书面允许你在其他地方进行盈利化。请随时私信作者。作者通常愿意给予你许可。**_
- _**如果整合包在 CurseForge 和 Modrinth 之外发布，那么你必须向 CurseForge 和 Modrinth 之外的用户提供一个指向作者的模组官方网页的链接，以示对作者的信任。**_
- _**整合包的名称/描述不得与作者的模组名称/描述相混淆。**_
- _**如果作者已书面许可你在 CurseForge 和 Modrinth 之外对整合包进行盈利化，那么，如果作者要求你这样做，你必须移除 CurseForge 和 Modrinth 之外的盈利化。**_

兼容性：
- 

网址：
- https://www.mcmod.cn/class/1483.html
- https://modrinth.com/mod/xaeros-world-map

下载地址：
- https://modrinth.com/mod/xaeros-world-map/versions?l=fabric&g=1.20.1

所属整合包：
- [[百姓日用整合包]]